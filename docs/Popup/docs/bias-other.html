<!doctype html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Document</title>
            <link rel="stylesheet" href="../../../assets/highlight/github.css">
            <link rel="stylesheet" href="../../../assets/github-markdown.css">
            <script src="../../../assets/highlight/highlight.min.js"></script>
            <style>
                .markdown-body {box-sizing: border-box;min-width: 200px;max-width: 980px;margin: 0 auto;padding: 45px;}
            </style>
        </head>
        <body class="markdown-body">
            <h2>其他组件操作Popup</h2>
<pre><code class="language-JavaScript">(function () {
    var popup = null;
    var holdPopup = function (popupInstance) {
        popup = popupInstance
    };
    var unmountPopup = function () {
        if (popup) {
            popup.autoVisible &amp;&amp; popup.autoVisible()
        }
    };
    var Confirm = &lt;Bubble style={{width:210}} symbolStyle={{left:'50%',marginLeft:-10}}&gt;
        &lt;button className=&quot;btn btn-sm btn-primary&quot; onClick={unmountPopup}&gt;删除&lt;/button&gt;
        &lt;span className=&quot;bub-text-gap-lg&quot;&gt;确定删除该贴纸吗?&lt;/span&gt;
    &lt;/Bubble&gt;;
    // 注意 onComponentMount 属性，该属性的值为一个函数
    // 当 Popup 组件挂载完成时调用，传将 Popup 实例传入
    // 所以可以通过一个变量持有该实例
    ReactDOM.render(
        &lt;Popup
            onComponentMount={holdPopup}
            placement=&quot;top&quot;
            content={Confirm}&gt;
            &lt;span className=&quot;color-link&quot;&gt;取消采购&lt;/span&gt;
        &lt;/Popup&gt;,
        mountNode
    );
})();
</code></pre>
<h2>复杂一点的弹出面板内容</h2>
<pre><code class="language-JavaScript">(function () {
    var popup = null;
    var holdPopup = function (popupInstance) {
        popup = popupInstance
    };
    // 再复杂的操作，与 &lt;Popup/&gt; 本身无关
    // 只是弹层中的操作可能会使用到 Popup 的某个方法
    // 所以要想办法将 Popup 的实例引入到弹层的实例中
    var ComplexPanel = React.createClass({
        unmountPopup: function () {
            if (popup) {
                popup.autoVisible &amp;&amp; popup.autoVisible()
            }
        },
        componentDidMount: function () {
            // refs.content is standardized DOM
            // content can accept children that from other for example angular
            console.log(this.refs.content)
        },
        render: function () {
            // 需要继承父级传入的 style
            // 用于指定绝对位置
            return &lt;Bubble
                style={assign(this.props.style, {width:210})}
                symbolStyle={{left:'50%',marginLeft:-10}}&gt;
                &lt;button
                    className=&quot;btn btn-sm btn-primary&quot;
                    onClick={this.unmountPopup}&gt;删除
                &lt;/button&gt;
                &lt;span className=&quot;bub-text-gap-lg&quot; ref=&quot;content&quot;&gt;确定删除该贴纸吗?&lt;/span&gt;
            &lt;/Bubble&gt;
        }
    });
    ReactDOM.render(
        &lt;Popup
            onComponentMount={holdPopup}
            placement=&quot;top&quot;
            content={&lt;ComplexPanel/&gt;}&gt;
            &lt;span className=&quot;color-link&quot;&gt;憋说话，点我！看源码！&lt;/span&gt;
        &lt;/Popup&gt;,
        mountNode
    );
})();
</code></pre>

        </body>
        <script>
            hljs.initHighlightingOnLoad();
            var body = document.body;
            var cssText = 'height:' + body.scrollHeight + 'px;';
            var iframe = window.parent.document.body.querySelector('#bias-other');
            if(iframe){
                iframe.style.cssText = cssText;
            }
        </script>
        </html>